#!/usr/bin/python

from socket import *
import sys

def conn(host, port):
  try:
      s = socket(AF_INET, SOCK_STREAM) # TCP scan 
      s.connect((host, port))
      return s
  except:
      return None
      
def scan(host, port):
  sock = conn(host, port)
  #setdefaulttimeout(1)
  if sock:
      print("[+] port %d: open") % port

if __name__=="__main__":
  print "[!] starting..."
  if sys.argv[1]:
      print "[!] scanning %s" % sys.argv[1]
      for i in range(65535):
          scan(sys.argv[1], int(i))
