#!/usr/bin/python

from itertools import permutations
from socket import *
import sys
import time

server = "172.16.119.138"

s = socket(AF_INET, SOCK_STREAM)
s.connect((server, 1337))

data = s.recv(20)
data = data.replace(",", "")
ports = data[1:-2].split()

print ports
for iter in permutations(ports, 3):
    for port in iter:
        print "[*] Knock Knock: " + str(port)
    try:
        s = socket(AF_INET, SOCK_STREAM)
        s.connect((server, int(port)))
        s.close()
    except Exception,e:
        #print str(e)
        pass
    time.sleep(1)
    print "[-] Knock Complete\n"

print "[+] All Knocking Complete!"
